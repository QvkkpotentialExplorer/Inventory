<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Отчёты</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css">
</head>
<body>
{% include 'nav.html' %}

<h2>Отчёты</h2>
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <ul class="flashes">
            {% for category, message in messages %}
                <li class="alert alert-{{ category }} flash-message">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endwith %}
  <div class="container">
         <div class="col pr-5 pl-5 mr-5">
            {% for report in reports %}
            <div class="card mb-3 ml-5 mr-5 mt-4 pt-0 pr-5 pl-5 pb-0">
                <div class="card-body pl-0 pr-0">
                    <h4 class="card-title mb-3">Номер отчета: {{ report[0].id }}</h4>
                    <h6 class="text-muted card-subtitle mb-3">Инвентарь: {{report[0].inventory_id}}</h6>
                    <h6 class="text-muted card-subtitle mb-3">Дата создания:  {{ report[0].usage_date }} </h6>
                    <h6 class="text-muted card-subtitle mb-3">Пользователь:  {{ report[1] }} </h6>
                    <h6 class="text-muted card-subtitle mb-3">Описание состояния до:   {{ report[0].condition_before }} </h6>
                    <h6 class="text-muted card-subtitle mb-3">Описание состояния после:   {{ report[0].condition_after }}</h6>
                    <h6 class="text-muted card-subtitle mb-3">Текст отчета:   {{ report[0].description }}</h6>

                </div>
            </div>
            {% endfor %}
         </div>
  </div>


<script>
    // Функция для скрытия всех флеш-сообщений через 10 секунд
    setTimeout(function() {
        var flashMessages = document.querySelectorAll('.flash-message');
        flashMessages.forEach(function(message) {
            message.style.display = 'none';
        });
    }, 10000);  // 10000 миллисекунд = 10 секунд
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.bundle.min.js"></script>

</body>
</html>
